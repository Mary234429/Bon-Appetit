<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipes Page</title>
    <link rel="stylesheet" href="myRecipesPage.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lustria&display=swap" rel="stylesheet">
</head>

<body>
    <%- include('navbar') %>
        <div class="main-container">
            <h1>Recipes</h1>
            <div class="search-bar">
                <input type="text" placeholder="Search for recipe" id="searchInput">
                <!-- <button onclick="searchRecipes()">Search</button> -->
            </div>
            <div class="content">
                <div class="side-header" id="my-recipes-header">
                    My Recipes
                </div>
                <div class="recipes-container">
                    <div class="side-header" id="my-recipes-header">
                        <% console.log(recentRecipes); %>
                        <div class="bookmarkCarousel">
                            <span class="carousel-title">My Recipes</span>
                            <button class="scroll-button left-scroll">&#10094;</button>
                            <div class="bookmarkContainer">
                              <div class="recipeWrapper">
                                <% recentRecipes.forEach((recipe)=> { %>
                                  <a href="/recipe/<%= recipe._id %>" style="text-decoration:none; color:inherit;">
                                    <div class="recipeBookmark">
                                      <% if (recipe.thumbnail==null) { %>
                                        <img src="plate.png" class="recipeBookmarkPic" alt="<%= recipe.name %> Thumbnail">
                                        <% } else { %>
                                          <img src="data:image/jpeg;base64,<%= recipe.thumbnail.toString('base64') %>"
                                            class="recipeBookmarkPic" alt="<%= recipe.name %> Thumbnail">
                                          <% } %>
                                            <h7 class="bookmark-recipe-name">
                                              <%= recipe.name %>
                                            </h7>
                      
                                            <!-- Optional creator details -->
                                            <% const creatorDetails=recipeMemberMap[recipe._id]; %>
                                              <% if (creatorDetails && creatorDetails.profilePicture) { %>
                                                <div class="creator-info">
                                                  <img src="<%= creatorDetails.profilePicture %>"
                                                    alt="<%= creatorDetails.firstName %> Thumbnail">
                                                  <p>
                                                    <%= creatorDetails.firstName %>
                                                      <%= creatorDetails.lastName %>
                                                  </p>
                                                </div>
                                                <% } %>
                                    </div>
                                  </a>
                                  <% }); %>
                              </div>
                            </div>
                            <button class="scroll-button right-scroll">&#10095;</button>
                          </div>
                </div>
                <div class="side-header" id="saved-recipes-header">
                    Saved Recipes
                </div>
                <div class="saved-recipes-container">
                        <% console.log(bookmarkedRecipes); %>
                        <div class="bookmarkCarousel">
                            <span class="carousel-title">Bookmarked Recipes</span>
                            <button class="scroll-button left-scroll">&#10094;</button>
                            <div class="bookmarkContainer">
                              <div class="recipeWrapper">
                                <% bookmarkedRecipes.forEach((recipe)=> { %>
                                  <a href="/recipe/<%= recipe._id %>" style="text-decoration:none; color:inherit;">
                                    <div class="recipeBookmark">
                                      <% if (recipe.thumbnail==null) { %>
                                        <img src="plate.png" class="recipeBookmarkPic" alt="<%= recipe.name %> Thumbnail">
                                        <% } else { %>
                                          <img src="data:image/jpeg;base64,<%= recipe.thumbnail.toString('base64') %>"
                                            class="recipeBookmarkPic" alt="<%= recipe.name %> Thumbnail">
                                          <% } %>
                                            <h7 class="bookmark-recipe-name">
                                              <%= recipe.name %>
                                            </h7>
                      
                                            <!-- Optional creator details -->
                                            <% const creatorDetails=recipeMemberMap[recipe._id]; %>
                                              <% if (creatorDetails && creatorDetails.profilePicture) { %>
                                                <div class="creator-info">
                                                  <img src="<%= creatorDetails.profilePicture %>"
                                                    alt="<%= creatorDetails.firstName %> Thumbnail">
                                                  <p>
                                                    <%= creatorDetails.firstName %>
                                                      <%= creatorDetails.lastName %>
                                                  </p>
                                                </div>
                                                <% } %>
                                    </div>
                                  </a>
                                  <% }); %>
                              </div>
                            </div>
                            <button class="scroll-button right-scroll">&#10095;</button>
                          </div>

        <script>
            function searchRecipes() {
                let input = document.getElementById('searchInput').value;
                alert('Search for: ' + input);
            }
        </script>
</body>

</html>